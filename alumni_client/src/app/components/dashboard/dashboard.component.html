<div class="dashboard-container">
  <h2>üéì Alumni Insights Dashboard</h2>

  <!-- üîç FILTERS -->
  <div class="filters">
    <!-- Major Filter -->
    <mat-form-field appearance="outline">
      <mat-label>Major</mat-label>
      <mat-select [(ngModel)]="selectedMajor" (selectionChange)="filterData()">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let major of majors" [value]="major">
          {{ major }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Graduation Year Filter -->
    <mat-form-field appearance="outline">
      <mat-label>Graduation Year</mat-label>
      <mat-select [(ngModel)]="selectedYear" (selectionChange)="filterData()">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let year of years" [value]="year">
          {{ year }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Company Filter -->
    <mat-form-field appearance="outline">
      <mat-label>Company</mat-label>
      <mat-select [(ngModel)]="selectedCompany" (selectionChange)="filterData()">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let company of companies" [value]="company">
          {{ company }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- üìä KPI CARDS -->
  <div class="kpi-grid">
    <mat-card class="kpi-card total">
      Total Alumni<br />
      <b>{{ totalAlumni() }}</b>
    </mat-card>

    <mat-card class="kpi-card majors">
      Unique Majors<br />
      <b>{{ totalMajors() }}</b>
    </mat-card>

    <mat-card class="kpi-card companies">
      Total Companies<br />
      <b>{{ totalCompanies() }}</b>
    </mat-card>

    <mat-card class="kpi-card roles">
      Distinct Roles<br />
      <b>{{ totalRoles() }}</b>
    </mat-card>
  </div>

  <!-- üìà CHARTS -->
  <div class="charts">

    <mat-card class="chart-card">
      <h3>üìà Graduation Trends Over Time</h3>
      <canvas id="gradTrend"></canvas>
    </mat-card>

    <!-- <mat-card class="chart-card">
      <h3>üç© Major-wise Alumni Distribution</h3>
      <canvas id="majorPie"></canvas>
    </mat-card> -->

    <mat-card class="chart-card">
      <h3>üìä Top Majors by Alumni Count</h3>
      <canvas id="topMajors"></canvas>
    </mat-card>

    <mat-card class="chart-card full-width">
      <h3>üë©‚Äçüíª Role Distribution Across Majors</h3>
      <canvas id="roleDist"></canvas>
    </mat-card>

      <mat-card class="chart-card full-width">
      <h3>üè¢ Top Hiring Companies</h3>
      <canvas id="topCompanies"></canvas>
    </mat-card>

     <mat-card class="chart-card full-width">
      <h3>üè¢ Alumni Company Spread</h3>
      <canvas id="alumniLocation"></canvas>
    </mat-card>

  </div>

  <!-- üîÆ Predictive Analysis Section -->
<mat-card class="predict-card full-width">
  <h2>üîÆ Predictive Analysis</h2>

   <p class="prediction-intro">
    These predictive insights are generated using growth factors aligned with national hiring trends
    reported in the <strong>2026 Tech Job Market Statistics and Outlook</strong> analysis. Forecasts incorporate
    industry-wide expansion in AI, data science, cybersecurity, and software roles, applying proportional
    increases to reflect national projections.
    <br><br>

    <strong>Role-based growth assumptions:</strong>
    AI/Data +15%, Cybersecurity +12%, Software Engineering +10%, QA +8%, General IT +5%.
    <br>

    <strong>Major-based growth assumptions:</strong>
    AI/ML +20%, Data Science +18%, Cybersecurity +15%, Software Engineering +12%,
    Cloud/DevOps +10%, MIS +6%, Others +4%.
    <br>

    <strong>Location-based growth assumptions:</strong>
    AI hubs (NYC, SF, Seattle, Austin) +15%, Cybersecurity hubs +12%,
    Mid-tier tech cities +7%, Remote roles +5%.
    <br><br>

    These adjustment factors extend current alumni distributions into next-year projections while maintaining
    alignment with national workforce trends.
    <br><br>

    <a href="https://www.techtarget.com/whatis/feature/Tech-job-market-statistics-and-outlook#:~:text=According%20to%20November%202025%20research,the%202025%20Tech%20Talent%20Report."
       target="_blank">
      Read the full TechTarget article ‚Üí
    </a>
  </p>


  <mat-accordion multi>

    <!-- 1Ô∏è‚É£ Prediction Question -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Which companies are most likely to hire GHU alumni next year?
        </mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Two forecast charts -->
      <div class="predict-charts">
        <canvas id="forecastTopCompanies"></canvas>
        <canvas id="trendTopCompanies"></canvas>
      </div>

      <!-- Textual insight -->
      <!-- <div class="prediction-text">
        <p>Based on historical placement trends, the hiring demand for these companies is projected to grow. Google and Microsoft show an upward hiring curve, while IBM is stabilizing. Amazon shows a mild decline compared to 2023‚Äì24.</p>
      </div> -->
      <div class="prediction-text">
        <p>{{ companyPredictionText }}</p>
      </div>

    </mat-expansion-panel>

    <!-- 2Ô∏è‚É£ Prediction Question -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Which majors are expected to have the highest employment success next year?
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="predict-charts">
        <canvas id="forecastMajorEmployment"></canvas>
        <canvas id="trendMajorEmployment"></canvas>
      </div>

      <div class="prediction-text">
        <p>{{ majorPredictionText }}</p>
      </div>
    </mat-expansion-panel>

    <!-- 3Ô∏è‚É£ Prediction Question -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          What cities will alumni most likely work in next year?
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="predict-charts">
        <canvas id="forecastLocations"></canvas>
        <canvas id="trendLocations"></canvas>
      </div>

      <div class="prediction-text">
        <p>{{ locationPredictionText }}</p>
      </div>
    </mat-expansion-panel>

  </mat-accordion>
</mat-card>

</div>
